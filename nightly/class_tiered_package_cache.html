<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Legendary Explorer Core: TieredPackageCache Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Legendary Explorer Core<span id="projectnumber">&#160;Nightly</span>
   </div>
   <div id="projectbrief">Core library for working with Mass Effect Trilogy / Legendary Edition files</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_tiered_package_cache.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_tiered_package_cache-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">TieredPackageCache Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>PackageCache implementation that allows looking for packages in parent caches. Parent caches will not open packages on cache miss.   
 <a href="class_tiered_package_cache.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for TieredPackageCache:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_tiered_package_cache.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aea1ba1cebba48d83dce0ac271a712659"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tiered_package_cache.html#aea1ba1cebba48d83dce0ac271a712659">TieredPackageCache</a> (<a class="el" href="class_tiered_package_cache.html">TieredPackageCache</a> parent)</td></tr>
<tr class="memdesc:aea1ba1cebba48d83dce0ac271a712659"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a tiered cache with the parent cache to look into if necessary   <a href="class_tiered_package_cache.html#aea1ba1cebba48d83dce0ac271a712659">More...</a><br /></td></tr>
<tr class="separator:aea1ba1cebba48d83dce0ac271a712659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6427e36f5ae6a4fac1726eed626b4116"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tiered_package_cache.html">TieredPackageCache</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tiered_package_cache.html#a6427e36f5ae6a4fac1726eed626b4116">ChainNewCache</a> (bool filenameOnlyMode=false, bool canPromoteInto=false)</td></tr>
<tr class="memdesc:a6427e36f5ae6a4fac1726eed626b4116"><td class="mdescLeft">&#160;</td><td class="mdescRight">Chains a new child cache to this one and returns the child cache.   <a href="class_tiered_package_cache.html#a6427e36f5ae6a4fac1726eed626b4116">More...</a><br /></td></tr>
<tr class="separator:a6427e36f5ae6a4fac1726eed626b4116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d68a5149e40c49ce32226230a919123"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tiered_package_cache.html#a7d68a5149e40c49ce32226230a919123">PromotePackage</a> (IMEPackage package)</td></tr>
<tr class="memdesc:a7d68a5149e40c49ce32226230a919123"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves a package into a higher tier. If a cache is shared, this will effectively cache this package for all children caches. This typically should only be used in a third tier cache; after global cache, chain a promotion tier, and then chain children off that.   <a href="class_tiered_package_cache.html#a7d68a5149e40c49ce32226230a919123">More...</a><br /></td></tr>
<tr class="separator:a7d68a5149e40c49ce32226230a919123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20303fe74e88015298917095f88dc515"><td class="memItemLeft" align="right" valign="top">override IMEPackage&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tiered_package_cache.html#a20303fe74e88015298917095f88dc515">GetCachedPackage</a> (string packageName, bool openIfNotInCache=true, Func&lt; string, IMEPackage &gt; openPackageMethod=null)</td></tr>
<tr class="memdesc:a20303fe74e88015298917095f88dc515"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a cached package. Ensure this cache is synchronized if across threads or you may end up saving two different instances of files to the same location   <a href="class_tiered_package_cache.html#a20303fe74e88015298917095f88dc515">More...</a><br /></td></tr>
<tr class="separator:a20303fe74e88015298917095f88dc515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44174101fdc2da6c7fd3909692ebe6b5"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tiered_package_cache.html#a44174101fdc2da6c7fd3909692ebe6b5">InsertIntoCache</a> (IMEPackage package)</td></tr>
<tr class="separator:a44174101fdc2da6c7fd3909692ebe6b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66996bcdea1e58838cfe7a180ff1f338"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tiered_package_cache.html#a66996bcdea1e58838cfe7a180ff1f338">CheckCacheFullness</a> (bool gcOnRelease=false, bool largeGc=false)</td></tr>
<tr class="separator:a66996bcdea1e58838cfe7a180ff1f338"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3b359cd137becee4b9e25c1ca8edce91"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_tiered_package_cache.html">TieredPackageCache</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tiered_package_cache.html#a3b359cd137becee4b9e25c1ca8edce91">GetGlobalPackageCache</a> (MEGame game, bool filenameOnlyMode=false, bool triggerOnFirstUse=true, string gameRootPath=null)</td></tr>
<tr class="memdesc:a3b359cd137becee4b9e25c1ca8edce91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a <a class="el" href="class_tiered_package_cache.html" title="PackageCache implementation that allows looking for packages in parent caches. Parent caches will not...">TieredPackageCache</a> with the list of files that are globally safe to import from. This should be set as the root parent of tiered caches.   <a href="class_tiered_package_cache.html#a3b359cd137becee4b9e25c1ca8edce91">More...</a><br /></td></tr>
<tr class="separator:a3b359cd137becee4b9e25c1ca8edce91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a026bf19ea50924b60ad39cb1bab68381"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tiered_package_cache.html">TieredPackageCache</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tiered_package_cache.html#a026bf19ea50924b60ad39cb1bab68381">ParentCache</a></td></tr>
<tr class="memdesc:a026bf19ea50924b60ad39cb1bab68381"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cache to also look in for packages   <a href="class_tiered_package_cache.html#a026bf19ea50924b60ad39cb1bab68381">More...</a><br /></td></tr>
<tr class="separator:a026bf19ea50924b60ad39cb1bab68381"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="properties" name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a52e98e3c43fcb429bd4bd333558baaf5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tiered_package_cache.html#a52e98e3c43fcb429bd4bd333558baaf5">CanBePromotedInto</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a52e98e3c43fcb429bd4bd333558baaf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">If children caches can promote packages into this cache. Must be careful; too many promotions will result in high memory usage if the cache is long lived   <a href="class_tiered_package_cache.html#a52e98e3c43fcb429bd4bd333558baaf5">More...</a><br /></td></tr>
<tr class="separator:a52e98e3c43fcb429bd4bd333558baaf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbe00ce16666f55b90b838e314db19bc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tiered_package_cache.html#acbe00ce16666f55b90b838e314db19bc">FilenameOnlyMode</a><code> [get, set]</code></td></tr>
<tr class="memdesc:acbe00ce16666f55b90b838e314db19bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">If this package cache should use filenames (rather than file paths) for cache lookups.   <a href="class_tiered_package_cache.html#acbe00ce16666f55b90b838e314db19bc">More...</a><br /></td></tr>
<tr class="separator:acbe00ce16666f55b90b838e314db19bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae6d983fed66bceab165cf9ce4eb86b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tiered_package_cache.html#a8ae6d983fed66bceab165cf9ce4eb86b">ReloadFileList</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a8ae6d983fed66bceab165cf9ce4eb86b"><td class="mdescLeft">&#160;</td><td class="mdescRight">If next lookup in FilenameOnlyMode should refresh game files   <a href="class_tiered_package_cache.html#a8ae6d983fed66bceab165cf9ce4eb86b">More...</a><br /></td></tr>
<tr class="separator:a8ae6d983fed66bceab165cf9ce4eb86b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add2b480095397a43141ee68e1633ff26"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tiered_package_cache.html#add2b480095397a43141ee68e1633ff26">PackagePromotionThreshold</a> = 5<code> [get, set]</code></td></tr>
<tr class="memdesc:add2b480095397a43141ee68e1633ff26"><td class="mdescLeft">&#160;</td><td class="mdescRight">After child caches open the same package this many times, the package will be promoted into the parent cache. The parent cache must have 'CanBePromotedInto' set to true for this to do anything.   <a href="class_tiered_package_cache.html#add2b480095397a43141ee68e1633ff26">More...</a><br /></td></tr>
<tr class="separator:add2b480095397a43141ee68e1633ff26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aa8e3998e1c08e53df67c22f2f6dd28"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tiered_package_cache.html#a0aa8e3998e1c08e53df67c22f2f6dd28">ParentPromotionGuid</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a0aa8e3998e1c08e53df67c22f2f6dd28"><td class="mdescLeft">&#160;</td><td class="mdescRight">When checking parent for packages, if this does not match their current PromotionGuid, something was promoted into it, and we should drop any local packages that are now in the parent cache to reduce memory consumption   <a href="class_tiered_package_cache.html#a0aa8e3998e1c08e53df67c22f2f6dd28">More...</a><br /></td></tr>
<tr class="separator:a0aa8e3998e1c08e53df67c22f2f6dd28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd6d8782fbf8e82425380fcc560d1356"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tiered_package_cache.html#abd6d8782fbf8e82425380fcc560d1356">PromotionGuid</a><code> [get, set]</code></td></tr>
<tr class="memdesc:abd6d8782fbf8e82425380fcc560d1356"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updated every time a package is promoted into this cache   <a href="class_tiered_package_cache.html#abd6d8782fbf8e82425380fcc560d1356">More...</a><br /></td></tr>
<tr class="separator:abd6d8782fbf8e82425380fcc560d1356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab627b6d394b81b41d8484848e8489412"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tiered_package_cache.html#ab627b6d394b81b41d8484848e8489412">DropsUntilFullGC</a> = 10<code> [get, set]</code></td></tr>
<tr class="memdesc:ab627b6d394b81b41d8484848e8489412"><td class="mdescLeft">&#160;</td><td class="mdescRight">When this amount of packages are dropped due to cache limit, a full GC will be performed   <a href="class_tiered_package_cache.html#ab627b6d394b81b41d8484848e8489412">More...</a><br /></td></tr>
<tr class="separator:ab627b6d394b81b41d8484848e8489412"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >PackageCache implementation that allows looking for packages in parent caches. Parent caches will not open packages on cache miss.  </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aea1ba1cebba48d83dce0ac271a712659" name="aea1ba1cebba48d83dce0ac271a712659"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea1ba1cebba48d83dce0ac271a712659">&#9670;&#160;</a></span>TieredPackageCache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TieredPackageCache.TieredPackageCache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tiered_package_cache.html">TieredPackageCache</a>&#160;</td>
          <td class="paramname"><em>parent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a tiered cache with the parent cache to look into if necessary  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td>Parent cache to look into</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6427e36f5ae6a4fac1726eed626b4116" name="a6427e36f5ae6a4fac1726eed626b4116"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6427e36f5ae6a4fac1726eed626b4116">&#9670;&#160;</a></span>ChainNewCache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tiered_package_cache.html">TieredPackageCache</a> TieredPackageCache.ChainNewCache </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>filenameOnlyMode</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>canPromoteInto</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Chains a new child cache to this one and returns the child cache.  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filenameOnlyMode</td><td>If the cache only operates on filename and not filepath</td></tr>
    <tr><td class="paramname">canPromoteInto</td><td>If the newly chained cache can be promoted into by its possible future children</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="a3b359cd137becee4b9e25c1ca8edce91" name="a3b359cd137becee4b9e25c1ca8edce91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b359cd137becee4b9e25c1ca8edce91">&#9670;&#160;</a></span>GetGlobalPackageCache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_tiered_package_cache.html">TieredPackageCache</a> TieredPackageCache.GetGlobalPackageCache </td>
          <td>(</td>
          <td class="paramtype">MEGame&#160;</td>
          <td class="paramname"><em>game</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>filenameOnlyMode</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>triggerOnFirstUse</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>gameRootPath</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes a <a class="el" href="class_tiered_package_cache.html" title="PackageCache implementation that allows looking for packages in parent caches. Parent caches will not...">TieredPackageCache</a> with the list of files that are globally safe to import from. This should be set as the root parent of tiered caches.  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">game</td><td>What game this cache will be for</td></tr>
    <tr><td class="paramname">filenameOnlyMode</td><td>If key lookups should be done on filename alone</td></tr>
    <tr><td class="paramname">gameRootPath</td><td>Used to override game path</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="a7d68a5149e40c49ce32226230a919123" name="a7d68a5149e40c49ce32226230a919123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d68a5149e40c49ce32226230a919123">&#9670;&#160;</a></span>PromotePackage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TieredPackageCache.PromotePackage </td>
          <td>(</td>
          <td class="paramtype">IMEPackage&#160;</td>
          <td class="paramname"><em>package</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Moves a package into a higher tier. If a cache is shared, this will effectively cache this package for all children caches. This typically should only be used in a third tier cache; after global cache, chain a promotion tier, and then chain children off that.  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">package</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a20303fe74e88015298917095f88dc515" name="a20303fe74e88015298917095f88dc515"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20303fe74e88015298917095f88dc515">&#9670;&#160;</a></span>GetCachedPackage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">override IMEPackage TieredPackageCache.GetCachedPackage </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>packageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>openIfNotInCache</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Func&lt; string, IMEPackage &gt;&#160;</td>
          <td class="paramname"><em>openPackageMethod</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a cached package. Ensure this cache is synchronized if across threads or you may end up saving two different instances of files to the same location  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packageName</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="a44174101fdc2da6c7fd3909692ebe6b5" name="a44174101fdc2da6c7fd3909692ebe6b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44174101fdc2da6c7fd3909692ebe6b5">&#9670;&#160;</a></span>InsertIntoCache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">override void TieredPackageCache.InsertIntoCache </td>
          <td>(</td>
          <td class="paramtype">IMEPackage&#160;</td>
          <td class="paramname"><em>package</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a66996bcdea1e58838cfe7a180ff1f338" name="a66996bcdea1e58838cfe7a180ff1f338"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66996bcdea1e58838cfe7a180ff1f338">&#9670;&#160;</a></span>CheckCacheFullness()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">override void TieredPackageCache.CheckCacheFullness </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>gcOnRelease</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>largeGc</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a026bf19ea50924b60ad39cb1bab68381" name="a026bf19ea50924b60ad39cb1bab68381"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a026bf19ea50924b60ad39cb1bab68381">&#9670;&#160;</a></span>ParentCache</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tiered_package_cache.html">TieredPackageCache</a> TieredPackageCache.ParentCache</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cache to also look in for packages  </p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="a52e98e3c43fcb429bd4bd333558baaf5" name="a52e98e3c43fcb429bd4bd333558baaf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52e98e3c43fcb429bd4bd333558baaf5">&#9670;&#160;</a></span>CanBePromotedInto</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TieredPackageCache.CanBePromotedInto</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If children caches can promote packages into this cache. Must be careful; too many promotions will result in high memory usage if the cache is long lived  </p>

</div>
</div>
<a id="acbe00ce16666f55b90b838e314db19bc" name="acbe00ce16666f55b90b838e314db19bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbe00ce16666f55b90b838e314db19bc">&#9670;&#160;</a></span>FilenameOnlyMode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TieredPackageCache.FilenameOnlyMode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If this package cache should use filenames (rather than file paths) for cache lookups.  </p>

</div>
</div>
<a id="a8ae6d983fed66bceab165cf9ce4eb86b" name="a8ae6d983fed66bceab165cf9ce4eb86b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ae6d983fed66bceab165cf9ce4eb86b">&#9670;&#160;</a></span>ReloadFileList</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TieredPackageCache.ReloadFileList</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If next lookup in FilenameOnlyMode should refresh game files  </p>

</div>
</div>
<a id="add2b480095397a43141ee68e1633ff26" name="add2b480095397a43141ee68e1633ff26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add2b480095397a43141ee68e1633ff26">&#9670;&#160;</a></span>PackagePromotionThreshold</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TieredPackageCache.PackagePromotionThreshold = 5</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>After child caches open the same package this many times, the package will be promoted into the parent cache. The parent cache must have 'CanBePromotedInto' set to true for this to do anything.  </p>

</div>
</div>
<a id="a0aa8e3998e1c08e53df67c22f2f6dd28" name="a0aa8e3998e1c08e53df67c22f2f6dd28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aa8e3998e1c08e53df67c22f2f6dd28">&#9670;&#160;</a></span>ParentPromotionGuid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TieredPackageCache.ParentPromotionGuid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When checking parent for packages, if this does not match their current PromotionGuid, something was promoted into it, and we should drop any local packages that are now in the parent cache to reduce memory consumption  </p>

</div>
</div>
<a id="abd6d8782fbf8e82425380fcc560d1356" name="abd6d8782fbf8e82425380fcc560d1356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd6d8782fbf8e82425380fcc560d1356">&#9670;&#160;</a></span>PromotionGuid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TieredPackageCache.PromotionGuid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updated every time a package is promoted into this cache  </p>

</div>
</div>
<a id="ab627b6d394b81b41d8484848e8489412" name="ab627b6d394b81b41d8484848e8489412"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab627b6d394b81b41d8484848e8489412">&#9670;&#160;</a></span>DropsUntilFullGC</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TieredPackageCache.DropsUntilFullGC = 10</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When this amount of packages are dropped due to cache limit, a full GC will be performed  </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>LegendaryExplorer/LegendaryExplorerCore/Packages/<a class="el" href="_tiered_package_cache_8cs.html">TieredPackageCache.cs</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_tiered_package_cache.html">TieredPackageCache</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
        <script type="text/javascript">
            // script for doxygen 1.9.1
            $(function() {
			  toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
			  toggleButton.title = "Toggle Light/Dark Mode"
			  $(document).ready(function(){
				document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
			  })
			  $(window).resize(function(){
				document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
			  })
			})
        </script>
</body>
</html>
